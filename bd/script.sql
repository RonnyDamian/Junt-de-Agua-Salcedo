/*Creación de la base de datos*/
DROP DATABASE IF EXISTS juntaauga;
CREATE DATABASE IF NOT EXISTS juntaauga;
USE juntaauga;

/*Creación de la tabla Usuarios*/
DROP TABLE IF EXISTS  usuarios;
CREATE TABLE IF NOT EXISTS  usuarios

(
idUsuario INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
nombre VARCHAR(100) NOT NULL,
apellido VARCHAR(100) NOT NULL,
cedula VARCHAR(10) NOT NULL,
telefono VARCHAR(10) DEFAULT NULL ,
celular VARCHAR(10) DEFAULT  NULL,
direccion VARCHAR(100) NOT NULL,
email VARCHAR(100) NOT NULL,
usuario VARCHAR(75) NOT NULL,
clave VARCHAR(75)

)ENGINE=INNODB DEFAULT CHARACTER ='utf8';


/*Creacion de la tabla Ovalos*/
DROP TABLE IF EXISTS  ovalos;
CREATE TABLE IF NOT EXISTS  ovalos

(
idOvalo INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
toma VARCHAR(100) NOT NULL,
derivacion VARCHAR(100) NOT NULL,
canalDer VARCHAR(10) NOT NULL,
subDer VARCHAR(10) DEFAULT NULL ,
dotacion VARCHAR(10) DEFAULT  NULL,
superficie VARCHAR(100) NOT NULL,
caudal VARCHAR(100) NOT NULL
)ENGINE=INNODB DEFAULT CHARSET ='utf8';

/*Creación de la tabla clientes*/
DROP TABLE IF EXISTS  t_clientes;
CREATE TABLE IF NOT EXISTS  t_clientes

(
idCliente INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
nombre VARCHAR(75) NOT NULL,
apellido VARCHAR(75) NOT NULL,
cedula VARCHAR(10) NOT NULL,
sexo VARCHAR(10) NOT NULL ,
direccion VARCHAR(100) NOT NULL,
celular VARCHAR(10) DEFAULT  NULL,
email VARCHAR(100) NOT NULL,
)ENGINE=INNODB DEFAULT CHARSET ='utf8';


/*Creación de la tabla Lotes*/
DROP TABLE IF EXISTS  t_lotes;
CREATE TABLE IF NOT EXISTS  t_lotes

(
idLote INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
clave VARCHAR(10) NOT NULL UNIQUE,
numLote VARCHAR(10) NOT NULL,
superficie VARCHAR(10) NOT NULL,
precio VARCHAR(10) NOT NULL ,
idCliente INT(11) NOT NULL,
idOvalo  INT(11) NOT NULL
)ENGINE=INNODB DEFAULT CHARSET ='utf8';
ALTER TABLE t_lotes DROP clave;
ALTER TABLE t_lotes ADD clave VARCHAR(10) UNIQUE NOT NULL AFTER idLote;


/*Creación tabla horas*/
DROP TABLE IF EXISTS  t_horas;
CREATE TABLE IF NOT EXISTS  t_horas
(
idHora INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
horaInicio SMALLINT NOT NULL,
horaFin SMALLINT NOT NULL
)ENGINE=MyISAM DEFAULT CHARSET ='utf8';
